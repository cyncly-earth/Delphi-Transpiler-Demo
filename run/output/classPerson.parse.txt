(file (unit (unitHead unit (namespaceName (ident classPerson)) ;) (unitInterface interface (usesClause uses (namespaceNameList (namespaceName (ident classContact)) , (namespaceName (ident System) . (ident Classes)) ;)) (interfaceDecl (typeSection type (typeDeclaration (genericTypeIdent (qualifiedIdent (ident TPerson))) = (typeDecl (strucType (strucTypePart (classDecl (classTypeDecl class (classItem (visibility private)) (classItem (classField (identList (ident cID)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer))))) ;)) (classItem (classField (identList (ident cClient)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer))))) ;)) (classItem (classField (identList (ident cFirst)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String))))) ;)) (classItem (classField (identList (ident cLast)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String))))) ;)) (classItem (classField (identList (ident cNotes)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String))))) ;)) (classItem (classField (identList (ident Contacts)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident TList))))) ;)) (classItem (visibility public)) (classItem (classProperty property (ident PersonID) : (genericTypeIdent (qualifiedIdent (ident Integer))) (classPropertySpecifier (classPropertyReadWrite read (qualifiedIdent (ident cID)))) (classPropertySpecifier (classPropertyReadWrite write (qualifiedIdent (ident cID)))) ;)) (classItem (classProperty property (ident Client) : (genericTypeIdent (qualifiedIdent (ident Integer))) (classPropertySpecifier (classPropertyReadWrite read (qualifiedIdent (ident cClient)))) (classPropertySpecifier (classPropertyReadWrite write (qualifiedIdent (ident cClient)))) ;)) (classItem (classProperty property (ident First) : (genericTypeIdent (qualifiedIdent (ident String))) (classPropertySpecifier (classPropertyReadWrite read (qualifiedIdent (ident cFirst)))) (classPropertySpecifier (classPropertyReadWrite write (qualifiedIdent (ident cFirst)))) ;)) (classItem (classProperty property (ident Last) : (genericTypeIdent (qualifiedIdent (ident String))) (classPropertySpecifier (classPropertyReadWrite read (qualifiedIdent (ident cLast)))) (classPropertySpecifier (classPropertyReadWrite write (qualifiedIdent (ident cLast)))) ;)) (classItem (classProperty property (ident Notes) : (genericTypeIdent (qualifiedIdent (ident String))) (classPropertySpecifier (classPropertyReadWrite read (qualifiedIdent (ident cNotes)))) (classPropertySpecifier (classPropertyReadWrite write (qualifiedIdent (ident cNotes)))) ;)) (classItem (classMethod (methodKey constructor) (ident Create) (formalParameterSection ( (formalParameterList (formalParameter (identListFlat (ident nPersonID)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer)))))) ; (formalParameter (identListFlat (ident nClient)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer)))))) ; (formalParameter (identListFlat (ident nLast)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String)))))) ; (formalParameter (identListFlat (ident nFirst)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String)))))) ; (formalParameter (identListFlat (ident nNotes)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String))))))) )) ;)) (classItem (classMethod (methodKey destructor) (ident Destroy) ;)) (classItem (classMethod (methodKey procedure) (ident Add) (formalParameterSection ( (formalParameterList (formalParameter (identListFlat (ident Contact)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident TContact))))))) )) ;)) (classItem (classMethod function (ident GetLength) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer))))) ;)) (classItem (classMethod function (ident GetContact) (formalParameterSection ( (formalParameterList (formalParameter (identListFlat (ident Index)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer))))))) )) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident TContact))))) ;)) (classItem (classMethod function (ident ToString) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String))))) ;)) end))))) ;)))) (unitImplementation implementation (usesClause uses (namespaceNameList (namespaceName (ident SysUtils)) ;)) (declSection (methodDecl (methodDeclHeading (methodKey constructor) (methodName (ident TPerson) . (ident Create)) (formalParameterSection ( (formalParameterList (formalParameter (identListFlat (ident nPersonID)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer)))))) ; (formalParameter (identListFlat (ident nClient)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer)))))) ; (formalParameter (identListFlat (ident nLast)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String)))))) ; (formalParameter (identListFlat (ident nFirst)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String)))))) ; (formalParameter (identListFlat (ident nNotes)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String))))))) ))) ; (methodBody (block (blockBody (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident PersonID)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident nPersonID))))))))) ; (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Client)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident nClient))))))))) ; (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Last)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident nLast))))))))) ; (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident First)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident nFirst))))))))) ; (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Notes)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident nNotes))))))))) ; (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Contacts)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (namespaceName (ident TList)) . (qualifiedIdent (ident Create))))))))) ; (statement (simpleStatement designator))) end))) ;))) (declSection (methodDecl (methodDeclHeading (methodKey destructor) (methodName (ident TPerson) . (ident Destroy))) ; (methodBody (block (declSection (varSection (varKey var) (varDeclaration (identListFlat (ident I)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer))))) ;))) (blockBody (compoundStatement begin (statementList (statement (forStatement for (designator (namespacedQualifiedIdent (qualifiedIdent (ident I)))) := (expression (simpleExpression (factor (intNum 0)))) to (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (namespaceName (ident Contacts)) . (qualifiedIdent (ident Count))))) (operator -) (factor (intNum 1)))) do (statement (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident TContact))) (designatorItem ( (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Contacts))) (designatorItem [ (expressionList (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident I)))))))) ]))))) )) (designatorItem . (ident Free))))) ; (statement (simpleStatement designator))) end)))) ; (statement (simpleStatement (designator (namespacedQualifiedIdent (namespaceName (ident Contacts)) . (qualifiedIdent (ident Free)))))) ; (statement (simpleStatement (designator inherited))) ; (statement (simpleStatement designator))) end))) ;))) (declSection (methodDecl (methodDeclHeading function (methodName (ident TPerson) . (ident ToString)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident String)))))) ; (methodBody (block (blockBody (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Result)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident First))))) (operator +) (factor (stringFactor ' ')) (operator +) (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Last))))))))) ; (statement (ifStatement if (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Notes)))))) (relOp <>) (simpleExpression (factor (stringFactor '')))) then (statement (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Result)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Result))))) (operator +) (factor (stringFactor ' - ')) (operator +) (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Notes))))))))) ; (statement (simpleStatement designator))) end)))) ; (statement (simpleStatement designator))) end))) ;))) (declSection (methodDecl (methodDeclHeading (methodKey procedure) (methodName (ident TPerson) . (ident Add)) (formalParameterSection ( (formalParameterList (formalParameter (identListFlat (ident Contact)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident TContact))))))) ))) ; (methodBody (block (blockBody (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (namespaceName (ident Contacts)) . (qualifiedIdent (ident Add))) (designatorItem ( (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Contact))))))) ))))) ; (statement (simpleStatement designator))) end))) ;))) (declSection (methodDecl (methodDeclHeading function (methodName (ident TPerson) . (ident GetLength)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer)))))) ; (methodBody (block (blockBody (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Result)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (namespaceName (ident Contacts)) . (qualifiedIdent (ident Count))))))))) ; (statement (simpleStatement designator))) end))) ;))) (declSection (methodDecl (methodDeclHeading function (methodName (ident TPerson) . (ident GetContact)) (formalParameterSection ( (formalParameterList (formalParameter (identListFlat (ident Index)) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident Integer))))))) )) : (typeDecl (typeId (namespacedQualifiedIdent (qualifiedIdent (ident TContact)))))) ; (methodBody (block (blockBody (compoundStatement begin (statementList (statement (simpleStatement (designator (namespacedQualifiedIdent (qualifiedIdent (ident Result)))) := (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Contacts))) (designatorItem [ (expressionList (expression (simpleExpression (factor (designator (namespacedQualifiedIdent (qualifiedIdent (ident Index)))))))) ]))))))) ; (statement (simpleStatement designator))) end))) ;)))) (unitBlock end) .))